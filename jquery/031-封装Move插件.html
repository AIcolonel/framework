<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>031-封装Move插件.html</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		div{
			width: 100px;
			height: 100px;
			background: red;
			position: absolute;
			top: 100px;
			left: 100px;
		}
	</style>
</head>
<body>
	<button>复原</button>
	<button>移动</button>
	<div></div>
</body>
<script type="text/javascript" src="js/jquery-1.12.4.js"></script>
<!-- <script type="text/javascript">
	function _init($elem){
		this.$elem=$elem;
		this.currentX=parseFloat(this.$elem.css('left'));
		this.currentY=parseFloat(this.$elem.css('top'));
	}

	function _slideTo(x,y,callback){
		if(!x){
			x=this.currentX;
		}
		if(!y){
			y=this.currentY;
		}

		if(this.currentX == x && this.currentY == y) return;

		typeof callback == "function" && callback();
	}

	function Move($elem){
		this.$elem=$elem;
		this.currentX=parseFloat(this.$elem.css('left'));
		this.currentY=parseFloat(this.$elem.css('top'));
	}

	Move.prototype={
		constructor:Move,
		slideTo:function(x,y){
			if(!x){
				x=this.currentX;
			}
			if(!y){
				y=this.currentY;
			}

			if(this.currentX == x && this.currentY == y) return;
			this.$elem.removeClass('transition')

			this.$elem.css({"top":x,"left":y});
			this.currentX=x;
			this.currentY=y;
		}
	}

	function Js($elem){
		_init.call(this,$elem);
	}

	Js.prototype={
		constructor:Js,
		slideTo:function(x,y){
			_slideTo(x,y,function(){
				console.log(this)
				this.$elem.removeClass('transition');
				this.$elem.stop().animate({"top":x,"left":y});
				this.currentX=x;
				this.currentY=y;
			}.bind(this));
		}
	}
</script> -->
<script type="text/javascript" src="move.js"></script>
<script>
	$(function(){
	   $('button:eq(0)').on("click",function(){
	   		new Move($('div')).slideTo(100,100);

	   })
	   $('button:eq(1)').on("click",function(){
	   		// new Move($('div')).slideTo(200,200);
	   		new Js($('div')).slideTo(200,200);
	   })
	});
</script>
</html>